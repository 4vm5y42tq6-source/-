<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>The Hours</title>
<style>
body{margin:0;background:#f3f4f6;font-family:system-ui}
h1{text-align:center}
.card{background:#fff;margin:12px;padding:16px;border-radius:16px}
.btn{width:100%;padding:16px;font-size:18px;border:none;border-radius:14px;background:#4b83b6;color:#fff}
.tabs{display:flex;gap:6px;margin:0 12px}
.tabs button{flex:1;padding:12px;border:none;border-radius:12px;background:#e5e7eb}
.tabs .active{background:#4b83b6;color:#fff}
.mon{display:flex;gap:10px;align-items:center;margin:8px 0}
.mon img{width:56px;height:56px;border-radius:12px;object-fit:cover}
.hidden{display:none}
</style>
</head>

<body>

<h1>The Hours</h1>

<div class="card">
金貨：<span id="money">0</span><br>
収益：<span id="income">0</span>/秒<br>
セット中：<span id="setName">なし</span>
</div>

<div class="card">
<button class="btn" onclick="getMonster()">GETする</button>
</div>

<div class="tabs">
<button class="active" onclick="openTab('store',this)">倉庫</button>
<button onclick="openTab('dex',this)">図鑑</button>
</div>

<div id="store" class="card">
<h3>倉庫</h3>
<div id="storeList"></div>
</div>

<div id="dex" class="card hidden">
<h3>モンスター図鑑（64体）</h3>
<div id="dexList"></div>
</div>

<script>
let money=0,income=0,set=null;
let store=[];

// ===== モンスター64体定義 =====
const races=[
"スライム","けもの","ドラゴン","あくま",
"アンデッド","マシン","しょくぶつ","エレメント"
];

const monsters=[];
let id=0;
races.forEach(r=>{
  for(let i=1;i<=8;i++){
    monsters.push({
      id:id++,
      name:`${r}★${i}`,
      race:r,
      star:i,
      power:i*10,
      img:"https://via.placeholder.com/128?text="+encodeURIComponent(r+"★"+i)
    });
  }
});

// ===== 処理 =====
function getMonster(){
  const m=monsters[Math.floor(Math.random()*monsters.length)];
  store.push({...m});
  render();
}
function equip(i){
  set=store[i];
  income=set.power;
  document.getElementById("setName").textContent=set.name;
}
function render(){
  document.getElementById("money").textContent=money;
  document.getElementById("income").textContent=income;

  const s=document.getElementById("storeList");
  s.innerHTML="";
  store.forEach((m,i)=>{
    s.innerHTML+=`
    <div class="mon">
      <img src="${m.img}">
      <div>${m.name}<br>力:${m.power}</div>
      <button onclick="equip(${i})">セット</button>
    </div>`;
  });

  const d=document.getElementById("dexList");
  d.innerHTML="";
  monsters.forEach(m=>{
    d.innerHTML+=`
    <div class="mon">
      <img src="${m.img}">
      <div>${m.name}</div>
    </div>`;
  });
}

function openTab(id,b){
  document.getElementById("store").classList.add("hidden");
  document.getElementById("dex").classList.add("hidden");
  document.getElementById(id).classList.remove("hidden");
  document.querySelectorAll(".tabs button").forEach(x=>x.classList.remove("active"));
  b.classList.add("active");
}

setInterval(()=>{money+=income;render()},1000);
render();
</script>

</body>
</html>
